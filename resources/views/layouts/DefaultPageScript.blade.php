
<script src="{{ URL::to('/SmartAdmin/') }}/js/app.config.js" type="text/javascript"></script>
<!-- JS TOUCH : include this plugin for mobile drag / drop touch events-->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/jquery-touch/jquery.ui.touch-punch.min.js" type="text/javascript"></script> 
<!-- BOOTSTRAP JS -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
<!-- CUSTOM NOTIFICATION -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/notification/SmartNotification.min.js" type="text/javascript"></script>
<!-- JARVIS WIDGETS -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/smartwidgets/jarvis.widget.min.js" type="text/javascript"></script>
<!-- EASY PIE CHARTS -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js" type="text/javascript"></script>
<!-- SPARKLINES -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/sparkline/jquery.sparkline.min.js" type="text/javascript"></script>
<!-- JQUERY VALIDATE -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/jquery-validate/jquery.validate.min.js" type="text/javascript"></script>
<!-- JQUERY MASKED INPUT -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/masked-input/jquery.maskedinput.min.js" type="text/javascript"></script>
<!-- JQUERY SELECT2 INPUT -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/select2/select2.min.js" type="text/javascript"></script>
<!-- JQUERY UI + Bootstrap Slider -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/bootstrap-slider/bootstrap-slider.min.js" type="text/javascript"></script>
<!-- browser msie issue fix -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/msie-fix/jquery.mb.browser.min.js" type="text/javascript"></script>
<!-- FastClick: For mobile devices: you can disable this in app.js -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/fastclick/fastclick.min.js" type="text/javascript"></script>
<!-- Jqgrid plugin interno -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/jqgrid/grid.locale-es.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/jqgrid/jquery.jqGrid.min.js" type="text/javascript"></script>
<!-- PAGE RELATED PLUGIN(S) -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/datatables/dataTables.colVis.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/datatables/dataTables.tableTools.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/datatables/dataTables.bootstrap.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/datatable-responsive/datatables.responsive.min.js" type="text/javascript"></script>
<!-- MAIN APP JS FILE -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/app.min.js" type="text/javascript"></script>

<script src="{{ URL::to('/SmartAdmin/') }}/js/demo.min.js" type="text/javascript"></script>

<!-- ENHANCEMENT PLUGINS : NOT A REQUIREMENT -->
<!-- Voice command : plugin -->
<!-- <script src="{{ URL::to('/SmartAdmin/') }}/js/speech/voicecommand.min.js"></script> -->

<!-- SmartChat UI : plugin -->
<!--<script src="<?php //echo $path; ?>js/smart-chat-ui/smart.chat.ui.min.js"></script>
<script src="<?php //echo $path; ?>js/smart-chat-ui/smart.chat.manager.min.js"></script> -->

<!-- PAGE RELATED PLUGIN(S) -->


<!-- PAGE RELATED PLUGIN(S) -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/maxlength/bootstrap-maxlength.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/bootstrap-timepicker/bootstrap-timepicker.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/clockpicker/clockpicker.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/bootstrap-tags/bootstrap-tagsinput.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/noUiSlider/jquery.nouislider.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/ion-slider/ion.rangeSlider.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/bootstrap-duallistbox/jquery.bootstrap-duallistbox.min.js" type="text/javascript"></script>		
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/colorpicker/bootstrap-colorpicker.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/knob/jquery.knob.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/x-editable/moment.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/x-editable/jquery.mockjax.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/x-editable/x-editable.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/typeahead/typeahead.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/typeahead/typeaheadjs.min.js" type="text/javascript"></script>

<!-- Flot Chart Plugin: Flot Engine, Flot Resizer, Flot Tooltip -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.cust.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.resize.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.fillbetween.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.orderBar.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.pie.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.time.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/flot/jquery.flot.tooltip.min.js" type="text/javascript"></script>

<!-- Vector Maps Plugin: Vectormap engine, Vectormap language -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/vectormap/jquery-jvectormap-1.2.2.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/vectormap/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script>

<!-- Full Calendar -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/moment/moment.min.js" type="text/javascript"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/fullcalendar/jquery.fullcalendar.min.js" type="text/javascript"></script>

<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/bootstrapvalidator/bootstrapValidator.min.js" type="text/javascript"></script>

<!-- PAGE RELATED PLUGIN(S) -->
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/dropzone/dropzone.min.js" type="text/javascript"></script>

<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/highChartCore/highcharts-custom.min.js"></script>
<script src="{{ URL::to('/SmartAdmin/') }}/js/plugin/highchartTable/jquery.highchartTable.min.js"></script>



<script type="text/javascript">
jQuery(document).ready(function() {

pageSetUp();

/* BASIC ;*/
var responsiveHelper_dt_basic = undefined;
var responsiveHelper_datatable_fixed_column = undefined;
var responsiveHelper_datatable_col_reorder = undefined;
var responsiveHelper_datatable_tabletools = undefined;

var breakpointDefinition = {
	tablet : 1024,
	phone : 480
};

jQuery('#dt_basic').dataTable({
	"sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-12 hidden-xs'l>r>"+
		"t"+
		"<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-xs-12 col-sm-6'p>>",
	"autoWidth" : true,
 	
	"preDrawCallback" : function() {
		// Initialize the responsive datatables helper once.
		if (!responsiveHelper_dt_basic) {
			responsiveHelper_dt_basic = new ResponsiveDatatablesHelper(jQuery('#dt_basic'), breakpointDefinition);
		}
	},
	"rowCallback" : function(nRow) {
		responsiveHelper_dt_basic.createExpandIcon(nRow);
	},
	"drawCallback" : function(oSettings) {
		responsiveHelper_dt_basic.respond();
	}
});


	/*Punto de Venta*/
	<?php if(strtoupper(Session::get("role"))!=strtoupper('administrador')){ ?>
		
		if(jQuery("#punto_venta_id").length>0){
			jQuery("#punto_venta_id").attr("readonly","readonly");
			jQuery("#punto_venta").attr("readonly","readonly");
			jQuery("#buscar_punto_venta").css("display","none");
			jQuery("#crear_punto_venta").css("display","none");
		}
	<?php } ?>

	/*Empleado*/
	<?php if(strtoupper(Session::get("role"))!=strtoupper('administrador')){ ?>
		if(jQuery("#empleados_id").length>0){
			jQuery("#empleados_id").attr("readonly","readonly");
			jQuery("#empleados").attr("readonly","readonly");
			jQuery("#buscar_empleados").css("display","none");
			jQuery("#crear_empleados").css("display","none");
		}
	<?php } ?>


	
	// remove classes
	jQuery(".ui-jqgrid").removeClass("ui-widget ui-widget-content");
	jQuery(".ui-jqgrid-view").children().removeClass("ui-widget-header ui-state-default");
	jQuery(".ui-jqgrid-labels, .ui-search-toolbar").children().removeClass("ui-state-default ui-th-column ui-th-ltr");
	jQuery(".ui-jqgrid-pager").removeClass("ui-state-default");
	jQuery(".ui-jqgrid").removeClass("ui-widget-content");
	
	// add classes
	jQuery(".ui-jqgrid-htable").addClass("table table-bordered table-hover");
	jQuery(".ui-jqgrid-btable").addClass("table table-bordered table-striped");
	
	jQuery(".ui-pg-div").removeClass().addClass("btn btn-sm btn-primary");
	jQuery(".ui-icon.ui-icon-plus").removeClass().addClass("fa fa-plus");
	jQuery(".ui-icon.ui-icon-pencil").removeClass().addClass("fa fa-pencil");
	jQuery(".ui-icon.ui-icon-trash").removeClass().addClass("fa fa-trash-o");
	jQuery(".ui-icon.ui-icon-search").removeClass().addClass("fa fa-search");
	jQuery(".ui-icon.ui-icon-refresh").removeClass().addClass("fa fa-refresh");
	jQuery(".ui-icon.ui-icon-disk").removeClass().addClass("fa fa-save").parent(".btn-primary").removeClass("btn-primary").addClass("btn-success");
	jQuery(".ui-icon.ui-icon-cancel").removeClass().addClass("fa fa-times").parent(".btn-primary").removeClass("btn-primary").addClass("btn-danger");
	
	jQuery(".ui-icon.ui-icon-seek-prev").wrap("<div class='btn btn-sm btn-default'></div>");
	jQuery(".ui-icon.ui-icon-seek-prev").removeClass().addClass("fa fa-backward");
	
	jQuery(".ui-icon.ui-icon-seek-first").wrap("<div class='btn btn-sm btn-default'></div>");
	jQuery(".ui-icon.ui-icon-seek-first").removeClass().addClass("fa fa-fast-backward");
	
	jQuery(".ui-icon.ui-icon-seek-next").wrap("<div class='btn btn-sm btn-default'></div>");
	jQuery(".ui-icon.ui-icon-seek-next").removeClass().addClass("fa fa-forward");
	
	jQuery(".ui-icon.ui-icon-seek-end").wrap("<div class='btn btn-sm btn-default'></div>");
	jQuery(".ui-icon.ui-icon-seek-end").removeClass().addClass("fa fa-fast-forward");

	
	/*
 * PAGE SETUP
 * Description: fire certain scripts that run through the page
 * to check for form elements, tooltip activation, popovers, etc...
 */
});
</script>

<!-- javascrip viejo personalizado funciones varias-->
<script type="text/javascript">


//setInterval('MantenSesion()', <%= CInt(0.9 * (Session.Timeout * 60000)) %>); 



function redireccionar_action(url){
	var url = "<?php //url ?>"+url; 
	jQuery(location).attr('href',url); 
}

/*Funcion Para Cuadro de Dialogo Buscar.. Pinta por ajax formulario de Buscar*/
function buscar_dialogo(controlador,div_id,opc,valor){
	jQuery("#dialogo_"+controlador).html("");
	var datos = "";
	if(valor==''){valor='vacio';}
	jQuery.ajax({
		type:"POST"
		,url:"<?php //url ?>"+controlador+"/find_buscar/"
		,async:true
		,data:{
				opcion: opc,
				 valor: valor
			}
		,success: function(data){
				jQuery("#dialogo_"+div_id).html(data);
				jQuery("#dialogo_"+div_id).dialog("open");
			}
		,error: function(data){
				jQuery("#dialogo_"+div_id).html("Error Cargando este Elemento" + data);
				jQuery("#dialogo_"+div_id).dialog("open");
			}	
	});		
}
/*Funcion Para Cuadro de Dialogo Buscar.. Pinta por ajax formulario de Crear o Agregar*/
function buscar_dialogo_crear(controlador,div_id,opc,valor){
	jQuery("#dialogo_"+controlador).html("");
	var datos = "";
	
	jQuery.ajax({
		type:"POST"
		,url:"<?php //url ?>"+controlador+"/agregar/"
		,async:true
		,data:{
				opcion: opc,
				 valor: valor
			}
		,success: function(data){
				jQuery("#dialogo_"+div_id).html(data);
				jQuery("#dialogo_"+div_id).dialog("open");
			}
		,error: function(data){
				jQuery("#dialogo_"+div_id).html("Error Cargando este Elemento" + data);
				jQuery("#dialogo_"+div_id).dialog("open");
			}	
	});	

}

		
/*Funcion  especial para el controlador de imagenes*/	
function buscar_imagenes(campo){
	controlador='imagen';
	jQuery("#dialogo_"+controlador).html("");

	var datos = "";
	jQuery.ajax({
		type:"POST"
		,url:"<?php //url ?>imagenes/buscar_imagenes/?campo="+campo
		,async:true
		,success: function(data){
				jQuery("#dialogo_"+controlador).html(data);
				jQuery("#dialogo_"+controlador).dialog("open");
			}
		,error: function(data){
				jQuery("#dialogo_"+controlador).html("Error Cargando este Elemento");
				jQuery("#dialogo_"+controlador).dialog("open");
			}	
	});		
}
	
		
function buscar_upload(campo){
	controlador='imagen';
	jQuery("#dialogo_"+controlador).html("");
	var datos = "";
	jQuery.ajax({
		type:"POST"
		,url:"<?php //url ?>imagenes/buscar_upload/?campo="+campo
		,async:true
		,success: function(data){
				jQuery("#dialogo_"+controlador).html(data);
				jQuery("#dialogo_"+controlador).dialog("open");
			}
		,error: function(data){
				jQuery("#dialogo_"+controlador).html("Error Cargando este Elemento");
				jQuery("#dialogo_"+controlador).dialog("open");
			}	
	});		
}

	

function validar_cliente(){
	jQuery("#clientes_id").val();
	controlador = "mensajes";
	var datos = "";
	jQuery.ajax({
		type:"POST"
		,url:"<?php //url ?>solicitud/validar/"+jQuery("#clientes_id").val()
		,async:true
		,data:{ opcion: true }
		,success: function(data){
				jQuery("#dialogo_"+controlador).html(data);
				jQuery("#dialogo_"+controlador).dialog("open");
			}
		,error: function(data){
				jQuery("#dialogo_"+controlador).html("Error Cargando este Elemento" + data);
				jQuery("#dialogo_"+controlador).dialog("open");
			}	
	});		
}

	
function valor_credito(){
var numero_cuotas=jQuery("#numero_cuotas").val();
var valor_cuota=jQuery("#valor_cuota").val();
if(numero_cuotas=='' || valor_cuota==''){
		jQuery("#error").css("display","inline");
		jQuery(".kumbiaDisplay").fadeOut(7000, function () {
		jQuery(this).remove();
		jQuery('#loader').each (function(){
		});
	});
	}else{
		jQuery("#loader").css("display","inline");
		  jQuery(".kumbiaDisplay").fadeOut(5000, function () {
		  jQuery(this).remove();
		  jQuery('#loader').each (function(){
		  });
		});
		var total_credito=numero_cuotas*valor_cuota;
        jQuery("#total_credito").val(total_credito);
	}
}

	
function capturar_huella(){
	jQuery("#dialogo_huellas").html("");
	jQuery.ajax({
		type:"POST"
		,url:"<?php //url ?>huellas/"
		,async:true
		,data:{ opcion: true }
		,success: function(data){
				jQuery("#dialogo_huellas").html(data);
				jQuery("#dialogo_huellas").dialog("open");
			}
		,error: function(data){
				jQuery("#dialogo_"+controlador).html("Error Cargando este Elemento" + data);
				//jQuery("#dialogo_"+controlador).dialog("open");
			}	
	});		
}

	
function abrir_opciones(controlador,action,id,opcion1){
	jQuery("#dialogo_opciones").html("");
	jQuery.ajax({
				type:"POST"
				,url:"<?php //url ?>"+controlador+"/"+action+"/"+id+"/"+opcion1
				,async:true
				,data:{	opcion: true }
				,success: function(data){
						jQuery("#dialogo_opciones").html(data);
						jQuery("#dialogo_opciones").dialog("open");
					}
				,error: function(data){
						jQuery("#dialogo_mensajes").html("Error Cargando este Elemento" + data);
					}	
			});		
}

</script>



<!-- Your GOOGLE ANALYTICS CODE Below -->
<!--<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>-->


<script type="text/javascript">



jQuery(document).ready(function(){

	/*cuadros*/
jQuery("body").append('<div id="dialogo_opciones"></div>');	
jQuery("#dialogo_opciones").dialog(
			{ autoOpen: false 
			
				,title: "Cuadro de Opciones" 
				,modal: true
				,buttons: {
					"Cerrar": function() {
						jQuery( this ).dialog( "close" );
						}
				}
	 });


 	

/*Fin Funcion autocomplete de clientes */


	/*desabilita progressbar*/
	jQuery( "#progressbar" ).progressbar({ disable: true });
	jQuery( "#progressbarWrapper" ).resizable();

	/*Date Picker utilizados en el sistema*/
	if( jQuery( "#fecha"      ) ){ jQuery( "#fecha"      ).datepicker({ dateFormat: "yy-mm-dd"}); 	}
	if( jQuery( "#fecha_nac"      ) ){ jQuery( "#fecha_nac"      ).datepicker({ dateFormat: "yy-mm-dd"}); 	}
			
	if( jQuery( "#vencimiento"      ) ){ jQuery( "#vencimiento"      ).datepicker({ dateFormat: "yy-mm-dd"}); 	}
	

	if( jQuery( "#desde"        ) ){ jQuery( "#desde"        ).datepicker({ dateFormat: "yy-mm-dd"}); 	}
	if( jQuery( "#pronto_pago"  ) ){ jQuery( "#pronto_pago"  ).datepicker({ dateFormat: "yy-mm-dd"}); 	}
	if( jQuery( "#hasta"        ) ){ jQuery( "#hasta"        ).datepicker({ dateFormat: "yy-mm-dd"}); 	}

	if( jQuery( "#hora_desde"      ) ){ jQuery( "#hora_desde"      ).clockpicker({ placement: 'top',donetext: 'Hecho'}); 	}
	if( jQuery( "#hora_hasta"      ) ){ jQuery( "#hora_hasta"      ).clockpicker({ placement: 'top',donetext: 'Hecho'}); 	}
	


	jQuery("#dialogo_session").dialog({autoOpen:false});	
	var segundos = 0;
	var limite = 100;
	var myVar = setInterval(function(){myTimer()},1000);
	function myTimer() {
	    var d = new Date();
		segundos++;
	    jQuery("#minutos_inactivos").html( d.toLocaleTimeString() );
	    if(segundos==300){
	    	//alert("la Session llema mas de ");
			//jQuery("#dialogo_session").html("Usuario inactivo por mas de 3 minutos");
			//jQuery("#dialogo_session").dialog("open");
	    }
	}



	/*Cuadro dialogo agregar Contactos ***************
	**************************************************
	*************************************************/


	jQuery("body").append('<div id="dialogo_agregar_contactos"></div>');

	jQuery("#dialogo_agregar_contactos").dialog(
			{ 
				autoOpen: false 
				,width: 600
				,height: 570
				,title: "Agregar Contactos" 
				,modal: true
				//,buttons : [
				/*{
					html : "<i class='fa fa-trash-o'></i>&nbsp; Delete all items",
					"class" : "btn btn-danger",
					click : function() {
						$(this).dialog("close");
					}
				},{*/ 
					/*html : "<i class='fa fa-times'></i>&nbsp; Cancel",
					"class" : "btn btn-default",
					click : function() {
						$(this).dialog("close");
					}
				}]*/
	 });

	/*Cuadro dialogo agregar Contactos*/
	if(jQuery("#add_contactos").length>0){
		jQuery("#add_contactos").click(function(e){
			e.preventDefault;
			jQuery("#dialogo_agregar_contactos").html("");
			jQuery("#dialogo_agregar_contactos").html("Cargando...");

			jQuery.ajax({
				type:"POST"
				,url:"<?php //url ?>contactos/agregar"
				,async:true
				,cache:false
				,data:{	opcion: true }
				,success: function(data){
						jQuery("#dialogo_agregar_contactos").html(data);
						jQuery("#dialogo_agregar_contactos").dialog("open");
					}
				,error: function(data){
						jQuery("#dialogo_mesnajes").html("Error Cargando este Elemento" + data);
						//jQuery("#dialogo_"+controlador).dialog("open");
					}	
			});	
		});
	}

	/*Cuadro dialogo agregar Contactos ***************
	**************************************************
	*************************************************/
 	
 	jQuery('.ui-autocomplete').css('z-index', 99999999999999);
 	
});


</script>

